<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DS Menu Background Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 20px auto;
            padding: 20px;
            background: #2c3e50;
            color: white;
        }
        .controls {
            background: #34495e;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .control-group {
            margin-bottom: 15px;
        }
        label {
            display: inline-block;
            width: 150px;
            font-weight: bold;
        }
        input[type="color"], select {
            padding: 5px;
            border-radius: 4px;
            border: 1px solid #7f8c8d;
            width: 200px;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
        }
        button:hover {
            background: #2980b9;
        }
        .canvas-container {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }
        canvas {
            border: 2px solid #95a5a6;
            image-rendering: pixelated;
        }
        .info {
            background: #16a085;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>ðŸŽ® DS Menu Background Generator (256x192)</h1>
    
    <div class="controls">
        <div class="control-group">
            <label>Style:</label>
            <select id="style" onchange="generateBackground()">
                <option value="gradient">Gradient</option>
                <option value="checkered">Checkered Pattern</option>
                <option value="racing">Racing Stripes</option>
                <option value="grid">Grid</option>
            </select>
        </div>
        <div class="control-group">
            <label>Primary Color:</label>
            <input type="color" id="color1" value="#1e3a8a" onchange="generateBackground()">
        </div>
        <div class="control-group">
            <label>Secondary Color:</label>
            <input type="color" id="color2" value="#60a5fa" onchange="generateBackground()">
        </div>
        <button onclick="generateBackground()">Generate Background</button>
        <button onclick="downloadBackground()">Download PNG</button>
    </div>

    <div class="canvas-container">
        <h3>Preview (Scale 2x)</h3>
        <canvas id="bgCanvas" width="256" height="192" style="width: 512px; height: 384px;"></canvas>
    </div>

    <div class="info">
        <h3>ðŸ“‹ How to Use:</h3>
        <ol>
            <li>Choose a style and colors</li>
            <li>Click "Generate Background"</li>
            <li>Click "Download PNG" to save</li>
            <li>Convert with GRIT: <code>grit ds_menu.png -gB8 -gt -gzl -mRtf -mLs</code></li>
            <li>Include in your project as ds_menu.h</li>
        </ol>
    </div>

    <script>
        const canvas = document.getElementById('bgCanvas');
        const ctx = canvas.getContext('2d');

        function hexToRgb(hex) {
            const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
            return result ? {
                r: parseInt(result[1], 16),
                g: parseInt(result[2], 16),
                b: parseInt(result[3], 16)
            } : null;
        }

        function generateGradient(color1, color2) {
            const c1 = hexToRgb(color1);
            const c2 = hexToRgb(color2);
            
            for (let y = 0; y < 192; y++) {
                const ratio = y / 192;
                const r = Math.round(c1.r + (c2.r - c1.r) * ratio);
                const g = Math.round(c1.g + (c2.g - c1.g) * ratio);
                const b = Math.round(c1.b + (c2.b - c1.b) * ratio);
                
                ctx.fillStyle = `rgb(${r},${g},${b})`;
                ctx.fillRect(0, y, 256, 1);
            }
        }

        function generateCheckered(color1, color2) {
            const size = 16;
            for (let y = 0; y < 192; y += size) {
                for (let x = 0; x < 256; x += size) {
                    const isEven = ((x / size) + (y / size)) % 2 === 0;
                    ctx.fillStyle = isEven ? color1 : color2;
                    ctx.fillRect(x, y, size, size);
                }
            }
        }

        function generateRacingStripes(color1, color2) {
            const stripeWidth = 32;
            let useColor1 = true;
            
            for (let x = -192; x < 256; x += stripeWidth) {
                ctx.fillStyle = useColor1 ? color1 : color2;
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x + stripeWidth, 0);
                ctx.lineTo(x + stripeWidth + 192, 192);
                ctx.lineTo(x + 192, 192);
                ctx.closePath();
                ctx.fill();
                useColor1 = !useColor1;
            }
        }

        function generateGrid(color1, color2) {
            // Background
            ctx.fillStyle = color1;
            ctx.fillRect(0, 0, 256, 192);
            
            // Grid lines
            ctx.strokeStyle = color2;
            ctx.lineWidth = 1;
            
            // Vertical lines
            for (let x = 0; x < 256; x += 16) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, 192);
                ctx.stroke();
            }
            
            // Horizontal lines
            for (let y = 0; y < 192; y += 16) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(256, y);
                ctx.stroke();
            }
        }

        function generateBackground() {
            const style = document.getElementById('style').value;
            const color1 = document.getElementById('color1').value;
            const color2 = document.getElementById('color2').value;
            
            ctx.imageSmoothingEnabled = false;
            
            switch(style) {
                case 'gradient':
                    generateGradient(color1, color2);
                    break;
                case 'checkered':
                    generateCheckered(color1, color2);
                    break;
                case 'racing':
                    generateRacingStripes(color1, color2);
                    break;
                case 'grid':
                    generateGrid(color1, color2);
                    break;
            }
        }

        function downloadBackground() {
            const link = document.createElement('a');
            link.download = 'ds_menu.png';
            link.href = canvas.toDataURL();
            link.click();
        }

        // Initial generation
        generateBackground();
    </script>
</body>
</html>